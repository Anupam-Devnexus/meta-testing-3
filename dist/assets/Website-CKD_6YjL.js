import{p as r,a as i,j as t}from"./index-ePZmuw5s.js";import{r as c}from"./react-DNgDP3D6.js";import{D as l}from"./DynamicDataTable-CkTB4swJ.js";const d=r(e=>({data:[],loading:!1,error:null,fetchContacts:async()=>{e({loading:!0,error:null});try{const s=localStorage.getItem("UserDetails"),a=s?JSON.parse(s).token:null;if(!a)throw new Error("Unauthorized: No token found");const n=await i.get("https://dbbackend.devnexussolutions.com/auth/api/contact",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});e({data:n.data||[],loading:!1})}catch(s){console.error("Fetch Contacts Error:",s),e({error:s.response?.data?.message||s.message||"Failed to fetch contacts",loading:!1})}}}));function x(){const{data:e,loading:s,error:a,fetchContacts:n}=d();c.useEffect(()=>{n()},[]),console.log(e);const o=e?.submissions||[];return t.jsxs("section",{className:"p-2 max-w-7xl mx-auto space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Contact Submissions"}),t.jsxs("span",{className:"text-sm text-gray-500",children:["Total Submissions: ",e?.TotoalLeads||o.length]})]}),s&&t.jsx("p",{className:"text-blue-600 font-medium animate-pulse",children:"Loading submissions..."}),a&&t.jsxs("p",{className:"text-red-600 font-medium",children:["Error: ",a]}),!s&&!a&&o.length===0&&t.jsx("p",{className:"text-gray-500",children:"No submissions found."}),!s&&!a&&o.length>0&&t.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow border",children:t.jsx(l,{apiData:o,patchApi:"https://dbbackend.devnexussolutions.com/auth/api/contact"})})]})}export{x as default};

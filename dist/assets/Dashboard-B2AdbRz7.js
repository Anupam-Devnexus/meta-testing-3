import{j as e,b as v,c as w,M as y,d as b,e as S,f as C,g as k}from"./index-ePZmuw5s.js";import{r as l,u as F}from"./react-DNgDP3D6.js";import{u as P}from"./MetaLeadsGet-DbKrsk6c.js";import{u as M}from"./LeadsGet-C2X5tLaH.js";import{u as T}from"./UsersGet-DoIcZEnz.js";import L from"./IntegrationPage-BM7Y8qi6.js";import{R as A,B as E,C as U,X as V,Y as B,T as D,L as $,a as p}from"./charts-CZ9u0xu3.js";function j({icon:t,title:r,value:s,bgColor:n="bg-white",onClick:o}){return e.jsxs("div",{onClick:o,className:`flex flex-col items-center justify-center rounded-lg shadow-lg p-6 w-64 h-40 ${n} transition-transform hover:scale-105 cursor-pointer`,children:[t&&e.jsx(t,{className:"text-5xl text-indigo-600 mb-3"}),e.jsx("h3",{className:"text-gray-500 uppercase tracking-wide font-semibold",children:r}),e.jsx("p",{className:"text-1xl font-bold text-gray-900",children:s})]})}const I=[{name:"Leads",value:500},{name:"Contacted",value:350},{name:"Qualified",value:200},{name:"Proposals",value:120},{name:"Closed",value:60}],R=({stages:t})=>{const r=Math.max(...t.map(s=>s.value));return e.jsx("div",{className:"p-6 bg-white rounded-lg shadow-md max-w-full mx-auto",children:e.jsx("div",{className:"flex flex-col gap-2",children:t.map((s,n)=>{const o=s.value/r*100;return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-24 font-semibold",children:s.name}),e.jsxs("div",{className:"flex-1 bg-gray-200 h-12 rounded-md relative",children:[e.jsx("div",{className:"bg-blue-500 h-12 rounded-md transition-all duration-500",style:{width:`${o}%`},title:`${s.value} leads`}),e.jsx("span",{className:"absolute right-2 top-2 text-white font-semibold",children:s.value})]})]},n)})})})},K=()=>{const[t,r]=l.useState(!1),[s,n]=l.useState([]),[o,c]=l.useState(""),[d,x]=l.useState(""),[a,m]=l.useState(!1),h=()=>{o&&d&&(n([...s,{name:o,value:Number(d)}]),c(""),x(""))},u=()=>{s.length>0&&m(!0)},g=()=>{n(I),m(!0)};return e.jsxs("div",{className:"p-6",children:[!t&&!a&&e.jsx("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700",children:"Create Sales Funnel"}),t&&!a&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Add Funnel Stages"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Stage Name",value:o,onChange:i=>c(i.target.value),className:"border p-2 rounded-md flex-1"}),e.jsx("input",{type:"number",placeholder:"Value",value:d,onChange:i=>x(i.target.value),className:"border p-2 rounded-md w-32"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Add"})]}),e.jsx("ul",{className:"list-disc pl-6",children:s.map((i,f)=>e.jsxs("li",{className:"text-gray-700",children:[i.name," - ",i.value]},f))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Submit"}),e.jsx("button",{onClick:g,className:"px-6 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500",children:"Skip"})]})]}),a&&e.jsx(R,{stages:s})]})},O=[{name:"Feb",sellPrice:75,totalSell:45},{name:"Mar",sellPrice:85,totalSell:55},{name:"Apr",sellPrice:100,totalSell:58},{name:"May",sellPrice:95,totalSell:56},{name:"Jun",sellPrice:85,totalSell:60},{name:"Jul",sellPrice:100,totalSell:61},{name:"Aug",sellPrice:90,totalSell:59},{name:"Sep",sellPrice:105,totalSell:60},{name:"Oct",sellPrice:92,totalSell:63}];function G(){return e.jsx("div",{className:"bg-[#5755c2] text-white rounded-xl p-4 flex-1",children:e.jsx(A,{width:"100%",height:300,children:e.jsxs(E,{data:O,children:[e.jsx(U,{strokeDasharray:"3 3",stroke:"#38bdf8"}),e.jsx(V,{dataKey:"name",stroke:"#ffffff"}),e.jsx(B,{stroke:"#ffffff"}),e.jsx(D,{}),e.jsx($,{verticalAlign:"top",height:36,wrapperStyle:{color:"white"}}),e.jsx(p,{dataKey:"sellPrice",fill:"#ffffff",name:"Sell Price"}),e.jsx(p,{dataKey:"totalSell",fill:"#facc15",name:"Total Sell"})]})})})}function H(){return e.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 w-full md:w-[350px]",children:[e.jsx("div",{className:"flex justify-center items-center mb-6",children:e.jsxs("div",{className:"relative w-40 h-40",children:[e.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",children:[e.jsx("path",{className:"text-gray-200",d:`M18 2.0845\r
               a 15.9155 15.9155 0 0 1 0 31.831\r
               a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.jsx("path",{className:"text-blue-500",d:`M18 2.0845\r
               a 15.9155 15.9155 0 0 1 0 31.831`,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"70, 100"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Completed Task"}),e.jsx("span",{className:"text-2xl font-bold text-gray-800",children:"70"})]})]})}),e.jsxs("div",{className:"flex justify-between text-sm text-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-center mb-1",children:e.jsx(v,{className:"text-purple-500"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"New Tickets"}),e.jsx("p",{className:"text-gray-800 font-semibold",children:"100"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-center mb-1",children:e.jsx(w,{className:"text-green-500"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Open Tickets"}),e.jsx("p",{className:"text-gray-800 font-semibold",children:"16"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-center mb-1",children:e.jsx(y,{className:"text-yellow-500"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Response Time"}),e.jsx("p",{className:"text-gray-800 font-semibold",children:"1 day"})]})]})]})}function z(){const t=F(),{metaleads:r,fetchMetaLeads:s}=P(),{users:n,loading:o,fetchUser:c}=T(),{data:d,fetchData:x}=M(),[a,m]=l.useState(()=>localStorage.getItem("fb_connected")==="true"),[h,u]=l.useState("integration");l.useEffect(()=>{c(),x(),a&&s()},[a,x,s,c]);const g=l.useMemo(()=>d?.leads?.length||0,[d]),i=l.useMemo(()=>r?.leads?.length||0,[r]),f=l.useMemo(()=>n?.users?.length||0,[n]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-tr from-indigo-100 via-white to-indigo-300 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"text-blue-600 text-2xl"}),e.jsx("span",{className:`font-semibold ${a?"text-green-600":"text-red-600"}`,children:a?"Facebook Connected ✅":"Not Connected ❌"})]}),e.jsx("button",{onClick:()=>u(N=>N==="integration"?"stats":"integration"),className:"px-5 py-2.5 bg-indigo-600 text-white font-medium rounded-xl shadow hover:bg-indigo-700 transition-all",children:h==="integration"?"View Dashboard Stats":"Back to Integrations"})]}),h==="integration"?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 transition-all hover:shadow-xl",children:[e.jsxs("h2",{className:"text-2xl font-bold text-indigo-700 flex items-center gap-2 mb-6",children:[e.jsx(b,{})," Facebook Integration"]}),e.jsxs("p",{className:"text-lg mb-4",children:["Connection Status:"," ",e.jsx("span",{className:`font-semibold ${a?"text-green-600":"text-red-600"}`,children:a?"Connected ✅":"Not Connected ❌"})]}),e.jsx(L,{onConnectSuccess:()=>m(!0)})]}):e.jsx(e.Fragment,{children:a?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[e.jsx(j,{icon:S,title:"Total Users",value:o?"...":f,bgColor:"bg-indigo-100",iconColor:"text-indigo-600",onClick:()=>t("/admin-dashboard/users"),hoverEffect:!0}),e.jsx(j,{icon:C,title:"Total Meta Leads",value:i,bgColor:"bg-green-100",iconColor:"text-green-600",onClick:()=>t("/admin-dashboard/meta"),hoverEffect:!0}),e.jsx(j,{icon:k,title:"Total Leads",value:g,bgColor:"bg-yellow-100",iconColor:"text-yellow-600",onClick:()=>t("/admin-dashboard/leads"),hoverEffect:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-700",children:"Sales Funnel"}),e.jsx(K,{})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-700",children:"Sales History"}),e.jsx(G,{})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-700",children:"Support Tracker"}),e.jsx(H,{})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Please connect Facebook to view dashboard stats."}),e.jsx("button",{onClick:()=>u("integration"),className:"px-5 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all",children:"Go to Facebook Integration"})]})})]})}export{z as default};

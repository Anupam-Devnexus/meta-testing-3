import{j as e,a as h}from"./index-ePZmuw5s.js";import{r as i,u as w}from"./react-DNgDP3D6.js";function y(){const[r,n]=i.useState({name:"",email:"",password:"",confirmPassword:"",role:"Admin"}),[a,l]=i.useState({}),[m,d]=i.useState(!1),c=w(),o=s=>{const{id:t,value:f}=s.target;n({...r,[t]:f}),l({...a,[t]:""})},u=()=>{const s={};return r.name.trim()||(s.name="Name is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(s.email="Email is invalid"):s.email="Email is required",r.password?r.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",l(s),Object.keys(s).length===0},p=s=>{s.preventDefault(),u()&&(x(r),d(!0),n({name:"",email:"",password:"",confirmPassword:"",role:"Admin"}))},x=async s=>{try{(await h.post("https://dbbackend.devnexussolutions.com/auth/api/signup-users",s)).status===201&&(alert("Admin registered successfully!"),d(!0),n({name:"",email:"",password:"",confirmPassword:"",role:"Admin"}))}catch(t){t.response&&t.response.status===409?l({email:"Email already exists"}):alert("Something went wrong. Please try again later.")}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[var(--bg-color)]",children:e.jsxs("div",{className:"w-full max-w-lg bg-white shadow-lg rounded-xl p-8 space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-[var(--primary-color)]",children:"Admin Signup"}),e.jsxs("form",{className:"space-y-4",onSubmit:p,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",value:r.name,onChange:o,placeholder:"Enter full name",className:`p-2 border rounded-md outline-none ${a.name?"border-red-500":"border-gray-300"}`}),a.name&&e.jsx("span",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:r.email,onChange:o,placeholder:"Enter email",className:`p-2 border rounded-md outline-none ${a.email?"border-red-500":"border-gray-300"}`}),a.email&&e.jsx("span",{className:"text-red-500 text-sm",children:a.email})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:r.password,onChange:o,placeholder:"Create password",className:`p-2 border rounded-md outline-none ${a.password?"border-red-500":"border-gray-300"}`}),a.password&&e.jsx("span",{className:"text-red-500 text-sm",children:a.password})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:r.confirmPassword,onChange:o,placeholder:"Re-enter password",className:`p-2 border rounded-md outline-none ${a.confirmPassword?"border-red-500":"border-gray-300"}`}),a.confirmPassword&&e.jsx("span",{className:"text-red-500 text-sm",children:a.confirmPassword})]}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-[var(--primary-color)] hover:bg-[var(--primary-dark)] text-white font-semibold rounded-md transition",children:"Create Admin Account"}),m&&e.jsx("p",{className:"text-green-600 text-center font-medium mt-2",children:"Admin account created successfully!"})]}),e.jsx("button",{onClick:()=>c("/"),type:"submit",className:"w-full py-2 bg-[var(--primary-color)] hover:bg-[var(--primary-dark)] text-white font-semibold rounded-md transition",children:"Back to Login"})]})})}export{y as default};
